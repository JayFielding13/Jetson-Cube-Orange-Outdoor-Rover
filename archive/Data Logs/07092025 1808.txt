(venv) jay@RoboPi:~/rover_project $ python3 autonomous_bluetooth_tracker.py
âœ… Using system Bluetooth commands
============================================================
ğŸ“¡ AUTONOMOUS BLUETOOTH TRACKER
============================================================

Features:
  - Dual TP-Link UB500 antenna direction finding
  - BlueCharm transmitter tracking
  - Park-on-target mission completion
  - Ultrasonic obstacle avoidance
  - RSSI-based ranging and bearing

ğŸ¯ Bluetooth Tracker Initialized
ğŸš— Mission: Park on BlueCharm (within 0.2m)
ğŸ“¡ Antenna separation: 0.3m
ğŸ” Tracking MAC: DD:34:02:09:CA:1E
âœ… Arduino connected on /dev/ttyUSB1
ğŸ“¡ Found Bluetooth adapters: ['hci2', 'hci1', 'hci0']
âœ… Dual antenna setup: hci0 (left), hci1 (right)
âœ… Enabled hci0
âœ… Enabled hci1
ğŸ”„ Starting BLE scan #1 for BlueCharm_190853
ğŸ“¡ Scanning with LEFT antenna (hci0)...
ğŸš€ Bluetooth Tracker started
ğŸ¯ Ready for autonomous tracking
âœ… Tracker ready - switch to autonomous mode
ğŸ“¡ Place BlueCharm_190853 on floor for rover to find
ğŸ¯ Mission: Rover will navigate to and park on BlueCharm
Press Ctrl+C to stop...
ğŸ” BLE scanning with hci0...
â±ï¸ HCI scanning for 8 seconds on hci0...
ğŸ›ï¸ MODE STABLE: MANUAL â†’ ASSISTED
ğŸ›ï¸ MODE STABLE: ASSISTED â†’ AUTONOMOUS
âœ… AUTONOMOUS MODE STABLE - Rover ready to track!
ğŸ§­ AUTONOMOUS | SEARCHING | Obstacle: 200.0cm | RC: âŒ
ğŸ“¡ Target: NOT DETECTED | Last scan: 9.0s ago | Total scans: 1
ğŸ“Š HCI scan got 549 lines
âœ… Found target on hci0: DD:34:02:09:CA:1E (unknown)
ğŸ“¶ hci0 detected target: -58dBm
ğŸ“¡ Scanning with RIGHT antenna (hci1)...
ğŸ” BLE scanning with hci1...
ğŸ”„ RC UNSTABLE - Stable: AUTONOMOUS | Raw: AUTONOMOUS | Unstable: 0.4s
   ğŸ’¡ RC signal unstable - check connections/interference
â±ï¸ HCI scanning for 8 seconds on hci1...
ğŸ“Š HCI scan got 555 lines
âœ… Found target on hci1: DD:34:02:09:CA:1E (unknown)
ğŸ“¶ hci1 detected target: -60dBm
ğŸ“Š Scan results: Left=-58dBm, Right=-60dBm
âœ… Signal detected! Processing...
ğŸ“¡ Target detected: 7.9m @ 0Â° (Q:84%)
   RSSI: L=-58dBm R=-60dBm
ğŸ”„ Starting BLE scan #2 for BlueCharm_190853
ğŸ“¡ Scanning with LEFT antenna (hci0)...
ğŸ” BLE scanning with hci0...
â±ï¸ HCI scanning for 8 seconds on hci0...
ğŸ“Š HCI scan got 415 lines
âœ… Found target on hci0: DD:34:02:09:CA:1E (unknown)
ğŸ“¶ hci0 detected target: -59dBm
ğŸ“¡ Scanning with RIGHT antenna (hci1)...
ğŸ” BLE scanning with hci1...
â±ï¸ HCI scanning for 8 seconds on hci1...
ğŸ“Š HCI scan got 548 lines
âœ… Found target on hci1: DD:34:02:09:CA:1E (unknown)
ğŸ“¶ hci1 detected target: -57dBm
ğŸ“Š Scan results: Left=-59dBm, Right=-57dBm
âœ… Signal detected! Processing...
ğŸ“¡ Target detected: 8.4m @ 0Â° (Q:83%)
   RSSI: L=-58.5dBm R=-58.5dBm
ğŸ”„ Starting BLE scan #3 for BlueCharm_190853
ğŸ“¡ Scanning with LEFT antenna (hci0)...
ğŸ” BLE scanning with hci0...
â±ï¸ HCI scanning for 8 seconds on hci0...
ğŸ“Š HCI scan got 413 lines
âœ… Found target on hci0: DD:34:02:09:CA:1E (unknown)
ğŸ“¶ hci0 detected target: -54dBm
ğŸ“¡ Scanning with RIGHT antenna (hci1)...
ğŸ” BLE scanning with hci1...
â±ï¸ HCI scanning for 8 seconds on hci1...
ğŸ“Š HCI scan got 547 lines
ğŸ”„ Trying bluetoothctl method on hci1...
ğŸ“Š Bluetoothctl found 0 devices
ğŸ”„ Trying hciscan method on hci1...
âŒ Basic scan error on hci1: Command '['sudo', 'hcitool', '-i', 'hci1', 'scan']' timed out after 10 seconds
ğŸ“Š Scan results: Left=-54dBm, Right=-100dBm
âœ… Signal detected! Processing...
ğŸ“¡ Target detected: 7.9m @ 0Â° (Q:84%)
   RSSI: L=-58dBm R=-60dBm
ğŸ”„ Starting BLE scan #4 for BlueCharm_190853
ğŸ“¡ Scanning with LEFT antenna (hci0)...
ğŸ” BLE scanning with hci0...
â±ï¸ HCI scanning for 8 seconds on hci0...
^C
ğŸ›‘ Shutdown requested by user...
ğŸ›‘ Stopping Bluetooth Tracker...
ğŸ“Š Final runtime: 76.0 seconds
ğŸ“Š === Bluetooth Tracking Statistics ===
   Runtime: 76 seconds
   Bluetooth scans: 4
   Target detections: 3
   Detection rate: 75.0%
   Obstacle avoidances: 0
   Target approaches: 0
   Signal losses: 0
ğŸ‘‹ Tracker shutdown complete
(venv) jay@RoboPi:~/rover_project $
(venv) jay@RoboPi:~/rover_project $ nano bluetooth_seeking_navigator_v2.py
(venv) jay@RoboPi:~/rover_project $ python3 bluetooth_seeking_navigator_v2.py
âœ… Bluetooth (bleak) library available
================================================================================
ðŸ¤– BLUECHARM SEEKING NAVIGATOR V2
================================================================================

ACTIVE SEEKING FEATURES:
  âœ… Ultrasonic obstacle detection and avoidance
  âœ… Enhanced stuck recovery system
  âœ… Arduino gatekeeper integration
  âœ… Real-time Bluetooth beacon ranging (0.8m - 11.2m)
  âœ… Working RSSI values (-57dBm to -80dBm)
  âœ… Thread-safe callback-based BLE scanning
  ðŸŽ¯ NEW: Active BlueCharm seeking behavior
  ðŸŽ¯ NEW: 0.5m target approach distance
  ðŸŽ¯ NEW: Gentle final approach mode
  ðŸŽ¯ NEW: Search patterns when signal lost
  âœ… Safety-first design with ultrasonic priority
  âœ… Clean shutdown with no task warnings

SEEKING BEHAVIOR:
  ðŸ” SEARCHING: Look for BlueCharm signal
  ðŸš¶ SEEKING: Move toward detected signal (>1.0m)
  ðŸŽ¯ APPROACHING: Gentle approach (<1.0m)
  ðŸ TARGET HOLD: Maintain 0.5m distance
  ðŸ›¡ï¸ SAFETY: Ultrasonic overrides all Bluetooth behavior

ðŸš€ BlueCharm Seeking Navigator V2 Initialized
ðŸ“Š Navigation: Danger=30.0cm | Caution=60.0cm | Safe=100.0cm
ðŸ“¡ Bluetooth: Enabled | Target: DD:34:02:09:CA:1E
ðŸŽ¯ Seeking: Target distance 0.5m | Influence 30%
ðŸ›¡ï¸ Safety: Ultrasonic navigation takes absolute priority
âœ… Arduino connected on /dev/ttyUSB0
ðŸ“¡ Starting BlueCharm seeking thread...
ðŸ“¡ BlueCharm seeking scanner started
ðŸš€ Seeking Navigator V2 started
ðŸ“¡ BlueCharm seeking scanner ready
ðŸŽ¯ Ready for autonomous BlueCharm seeking and approach
âœ… Seeking Navigator V2 ready - switch to autonomous mode
ðŸ“¡ BlueCharm seeking will activate automatically
ðŸŽ¯ Rover will seek and approach to 0.5m distance
Press Ctrl+C to stop...
ðŸ”„ SEARCH PATTERN: Turn #1
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ” SEEKING MODE: BlueCharm at 1.8m - active seeking activated
ðŸ“¡ SIGNAL DETECTED: Switching to seeking mode (1.8m)
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ” SEEKING: Moving toward 1.8m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 1.8m (-64dBm SEEK) | Det: 1 | Runtime: 4s
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ” SEEKING: Moving toward 1.8m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 1.8m (-64dBm SEEK) | Det: 1 | Runtime: 7s
ðŸŽ¯ APPROACH MODE: BlueCharm at 0.6m - gentle approach activated
ðŸ TARGET REACHED: 0.6m from BlueCharm (reach #1)
ðŸŽ¯ SWITCHING TO APPROACH: 0.6m
ðŸŒ GENTLE APPROACH: 0.6m at 25 speed
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 0.4m (-52dBm APP) | Det: 3 | Runtime: 10s
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 0.7m (-56dBm APP) | Det: 4 | Runtime: 13s
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 0.7m (-56dBm APP) | Det: 4 | Runtime: 16s
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 0.7m (-56dBm APP) | Det: 4 | Runtime: 19s
ðŸ“¡ BlueCharm APPROACH #5:
   RSSI: -64dBm | Distance: ~1.8m | Avg: -58dBm
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 2.2m (-66dBm APP) | Det: 6 | Runtime: 22s
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 2.2m (-66dBm APP) | Det: 6 | Runtime: 25s
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 2.2m (-66dBm APP) | Det: 6 | Runtime: 28s
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 4.5m (-72dBm APP) | Det: 9 | Runtime: 31s
ðŸ“Š === Seeking Navigator V2 Statistics ===
   Runtime: 31 seconds
   Distance measurements: 198
   Obstacle avoidances: 0
   Exploration turns: 0
   Emergency stops: 0
   Stuck recoveries: 0
ðŸŽ¯ === BlueCharm Seeking Statistics ===
   Seeking activations: 1
   Approach activations: 1
   Target reaches: 2
   Search patterns: 1
ðŸ“¡ === Bluetooth Ranging Statistics ===
   Total detections: 9
   Callback events: 9
   Detection rate: 0.29/sec
   Callback rate: 0.29/sec
   Strongest RSSI: -52 dBm
   Signal timeouts: 0
   Average RSSI: -61.8 dBm
   Navigation rate: 6.5 measurements/sec
ðŸ“¡ BlueCharm APPROACH #10:
   RSSI: -80dBm | Distance: ~11.2m | Avg: -64dBm
ðŸš¨ EMERGENCY! Obstacle at 22.4cm - overriding seeking
ðŸ”„ STUCK: Backing up (count: 1)
ðŸ§­ AUTONOMOUS | BACKING | US: 13.5cm | BT: 11.2m (-80dBm APP) | Det: 10 | Runtime: 34s
   Stuck counter: 1/5
ðŸ”„ RETRY: Switching to right turn (stuck: 1)
âœ… CLEAR: Path ahead at 200.0cm - resuming approaching
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 2.8m (-68dBm APP) | Det: 11 | Runtime: 37s
   Stuck counter: 1/5
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 2.8m (-68dBm APP) | Det: 11 | Runtime: 40s
   Stuck counter: 1/5
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 5.6m (-74dBm APP) | Det: 12 | Runtime: 43s
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 4.5m (-72dBm APP) | Det: 13 | Runtime: 46s
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 4.5m (-72dBm APP) | Det: 13 | Runtime: 49s
ðŸ“¡ BlueCharm APPROACH #15:
   RSSI: -62dBm | Distance: ~1.4m | Avg: -69dBm
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 1.4m (-62dBm APP) | Det: 15 | Runtime: 52s
ðŸš¨ EMERGENCY! Obstacle at 13.5cm - overriding seeking
ðŸ”„ STUCK: Backing up (count: 1)
ðŸ§­ AUTONOMOUS | BACKING | US: 200.0cm | BT: 2.2m (-66dBm APP) | Det: 16 | Runtime: 55s
   Stuck counter: 1/5
ðŸ”„ RETRY: Switching to left turn (stuck: 1)
âœ… CLEAR: Path ahead at 200.0cm - resuming approaching
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 8.9m (-78dBm APP) | Det: 17 | Runtime: 58s
   Stuck counter: 1/5
ðŸš¨ EMERGENCY! Obstacle at 26.0cm - overriding seeking
âœ… CLEAR: Path ahead at 200.0cm - resuming approaching
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 8.9m (-78dBm APP) | Det: 17 | Runtime: 61s
ðŸ“Š === Seeking Navigator V2 Statistics ===
   Runtime: 61 seconds
   Distance measurements: 399
   Obstacle avoidances: 3
   Exploration turns: 0
   Emergency stops: 0
   Stuck recoveries: 0
ðŸŽ¯ === BlueCharm Seeking Statistics ===
   Seeking activations: 1
   Approach activations: 1
   Target reaches: 2
   Search patterns: 1
ðŸ“¡ === Bluetooth Ranging Statistics ===
   Total detections: 17
   Callback events: 17
   Detection rate: 0.28/sec
   Callback rate: 0.28/sec
   Strongest RSSI: -52 dBm
   Signal timeouts: 0
   Average RSSI: -70.2 dBm
   Navigation rate: 6.6 measurements/sec
ðŸ§­ AUTONOMOUS | APPROACHING | US: 200.0cm | BT: 8.9m (-78dBm APP) | Det: 17 | Runtime: 64s
ðŸ“¡ Signal timeout (9.0s) - ending seeking modes
âš ï¸ Unknown navigation state - defaulting to search
ðŸ§­ AUTONOMOUS | SEARCHING | US: 200.0cm | BT: 4.5m (-72dBm PASS) | Det: 19 | Runtime: 67s
ðŸ”„ SEARCH PATTERN: Turn #6
ðŸ§­ AUTONOMOUS | SEARCHING | US: 200.0cm | BT: 4.5m (-72dBm PASS) | Det: 19 | Runtime: 70s
ðŸ“¡ BlueCharm PASSIVE #20:
   RSSI: -82dBm | Distance: ~14.1m | Avg: -72dBm
ðŸ” SEEKING MODE: BlueCharm at 2.8m - active seeking activated
ðŸ“¡ SIGNAL DETECTED: Switching to seeking mode (2.8m)
ðŸ” SEEKING: Moving toward 2.8m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 2.8m (-68dBm SEEK) | Det: 21 | Runtime: 73s
ðŸš¨ EMERGENCY! Obstacle at 9.6cm - overriding seeking
ðŸ”„ STUCK: Backing up (count: 1)
ðŸ§­ AUTONOMOUS | BACKING | US: 10.7cm | BT: 2.8m (-68dBm SEEK) | Det: 21 | Runtime: 76s
   Stuck counter: 1/5
ðŸ”„ RETRY: Switching to left turn (stuck: 1)
âœ… CLEAR: Path ahead at 200.0cm - resuming seeking
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 2.8m (-68dBm SEEK) | Det: 21 | Runtime: 79s
   Stuck counter: 1/5
ðŸ” SEEKING: Moving toward 2.8m signal
ðŸ“¡ Signal timeout (8.6s) - ending seeking modes
âš ï¸ Unknown navigation state - defaulting to search
ðŸ§­ AUTONOMOUS | SEARCHING | US: 200.0cm | BT: No signal | Det: 21 | Runtime: 82s
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ”„ SEARCH PATTERN: Turn #10
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ§­ AUTONOMOUS | SEARCHING | US: 200.0cm | BT: 5.6m (-74dBm PASS) | Det: 22 | Runtime: 88s
ðŸ§­ AUTONOMOUS | SEARCHING | US: 200.0cm | BT: 3.5m (-70dBm PASS) | Det: 24 | Runtime: 91s
ðŸ“Š === Seeking Navigator V2 Statistics ===
   Runtime: 91 seconds
   Distance measurements: 591
   Obstacle avoidances: 4
   Exploration turns: 0
   Emergency stops: 1
   Stuck recoveries: 0
ðŸŽ¯ === BlueCharm Seeking Statistics ===
   Seeking activations: 2
   Approach activations: 1
   Target reaches: 2
   Search patterns: 14
ðŸ“¡ === Bluetooth Ranging Statistics ===
   Total detections: 24
   Callback events: 24
   Detection rate: 0.26/sec
   Callback rate: 0.26/sec
   Strongest RSSI: -52 dBm
   Signal timeouts: 2
   Average RSSI: -72.8 dBm
   Navigation rate: 6.5 measurements/sec
ðŸ”„ SEARCH PATTERN: Turn #15
ðŸ” SEEKING MODE: BlueCharm at 1.8m - active seeking activated
ðŸ“¡ BlueCharm SEEKING #25:
   RSSI: -64dBm | Distance: ~1.8m | Avg: -73dBm
ðŸ“¡ SIGNAL DETECTED: Switching to seeking mode (1.8m)
ðŸ” SEEKING: Moving toward 1.8m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 2.2m (-66dBm SEEK) | Det: 27 | Runtime: 94s
ðŸš¨ EMERGENCY! Obstacle at 9.2cm - overriding seeking
ðŸ”„ STUCK: Backing up (count: 1)
ðŸ§­ AUTONOMOUS | BACKING | US: 9.2cm | BT: 3.5m (-70dBm SEEK) | Det: 28 | Runtime: 97s
   Stuck counter: 1/5
ðŸ”„ RETRY: Switching to right turn (stuck: 1)
ðŸ§­ AUTONOMOUS | AVOIDING | US: 9.3cm | BT: 5.6m (-74dBm SEEK) | Det: 29 | Runtime: 100s
   Stuck counter: 1/5
ðŸ”„ STUCK: Backing up (count: 1)
ðŸ“¡ BlueCharm SEEKING #30:
   RSSI: -74dBm | Distance: ~5.6m | Avg: -70dBm
ðŸ”„ RETRY: Switching to left turn (stuck: 1)
ðŸ§­ AUTONOMOUS | AVOIDING | US: 9.3cm | BT: 5.6m (-74dBm SEEK) | Det: 30 | Runtime: 103s
   Stuck counter: 1/5
ðŸ“¡ Stopping BLE seeking scanner...
^X^C
ðŸ›‘ Shutdown requested by user...
ðŸ›‘ Stopping Seeking Navigator V2...
ðŸ“Š Final runtime: 116.4 seconds
ðŸ“Š === Seeking Navigator V2 Statistics ===
   Runtime: 116 seconds
   Distance measurements: 737
   Obstacle avoidances: 5
   Exploration turns: 0
   Emergency stops: 50
   Stuck recoveries: 0
ðŸŽ¯ === BlueCharm Seeking Statistics ===
   Seeking activations: 3
   Approach activations: 1
   Target reaches: 2
   Search patterns: 15
ðŸ“¡ === Bluetooth Ranging Statistics ===
   Total detections: 30
   Callback events: 30
   Detection rate: 0.26/sec
   Callback rate: 0.26/sec
   Strongest RSSI: -52 dBm
   Signal timeouts: 2
   Average RSSI: -70.4 dBm
   Navigation rate: 6.3 measurements/sec
ðŸ‘‹ Seeking Navigator V2 shutdown complete
(venv) jay@RoboPi:~/rover_project $ python3 bluetooth_seeking_navigator_v2.py
âœ… Bluetooth (bleak) library available
================================================================================
ðŸ¤– BLUECHARM SEEKING NAVIGATOR V2
================================================================================

ACTIVE SEEKING FEATURES:
  âœ… Ultrasonic obstacle detection and avoidance
  âœ… Enhanced stuck recovery system
  âœ… Arduino gatekeeper integration
  âœ… Real-time Bluetooth beacon ranging (0.8m - 11.2m)
  âœ… Working RSSI values (-57dBm to -80dBm)
  âœ… Thread-safe callback-based BLE scanning
  ðŸŽ¯ NEW: Active BlueCharm seeking behavior
  ðŸŽ¯ NEW: 0.5m target approach distance
  ðŸŽ¯ NEW: Gentle final approach mode
  ðŸŽ¯ NEW: Search patterns when signal lost
  âœ… Safety-first design with ultrasonic priority
  âœ… Clean shutdown with no task warnings

SEEKING BEHAVIOR:
  ðŸ” SEARCHING: Look for BlueCharm signal
  ðŸš¶ SEEKING: Move toward detected signal (>1.0m)
  ðŸŽ¯ APPROACHING: Gentle approach (<1.0m)
  ðŸ TARGET HOLD: Maintain 0.5m distance
  ðŸ›¡ï¸ SAFETY: Ultrasonic overrides all Bluetooth behavior

ðŸš€ BlueCharm Seeking Navigator V2 Initialized
ðŸ“Š Navigation: Danger=30.0cm | Caution=60.0cm | Safe=100.0cm
ðŸ“¡ Bluetooth: Enabled | Target: DD:34:02:09:CA:1E
ðŸŽ¯ Seeking: Target distance 0.5m | Influence 30%
ðŸ›¡ï¸ Safety: Ultrasonic navigation takes absolute priority
âœ… Arduino connected on /dev/ttyUSB0
ðŸ“¡ Starting BlueCharm seeking thread...
ðŸ“¡ BlueCharm seeking scanner started
ðŸš€ Seeking Navigator V2 started
ðŸ“¡ BlueCharm seeking scanner ready
ðŸŽ¯ Ready for autonomous BlueCharm seeking and approach
âœ… Seeking Navigator V2 ready - switch to autonomous mode
ðŸ“¡ BlueCharm seeking will activate automatically
ðŸŽ¯ Rover will seek and approach to 0.5m distance
Press Ctrl+C to stop...
ðŸ”„ SEARCH PATTERN: Turn #1
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ” SEEKING MODE: BlueCharm at 2.8m - active seeking activated
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ“¡ SIGNAL DETECTED: Switching to seeking mode (2.8m)
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 2.8m (-68dBm SEEK) | Det: 1 | Runtime: 5s
ðŸ” SEEKING: Moving toward 2.8m signal
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 4.5m (-72dBm SEEK) | Det: 2 | Runtime: 8s
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ” SEEKING: Moving toward 4.5m signal
ðŸ” SEEKING: Moving toward 4.5m signal
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 2.0m (-65dBm SEEK) | Det: 3 | Runtime: 11s
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ” SEEKING: Moving toward 2.5m signal
ðŸ” SEEKING: Moving toward 2.5m signal
ðŸ“¡ BlueCharm SEEKING #5:
   RSSI: -68dBm | Distance: ~2.8m | Avg: -68dBm
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 2.8m (-68dBm SEEK) | Det: 5 | Runtime: 14s
ðŸš¨ EMERGENCY! Obstacle at 21.4cm - overriding seeking
ðŸ”„ STUCK: Backing up (count: 1)
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ”„ RETRY: Switching to right turn (stuck: 1)
ðŸ§­ AUTONOMOUS | AVOIDING | US: 200.0cm | BT: 4.0m (-71dBm SEEK) | Det: 7 | Runtime: 17s
   Stuck counter: 1/5
âœ… CLEAR: Path ahead at 200.0cm - resuming seeking
ðŸ” SEEKING: Moving toward 2.5m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 2.5m (-67dBm SEEK) | Det: 9 | Runtime: 20s
   Stuck counter: 1/5
ðŸ“¡ BlueCharm SEEKING #10:
   RSSI: -67dBm | Distance: ~2.5m | Avg: -69dBm
ðŸ” SEEKING: Moving toward 3.5m signal
ðŸ” SEEKING: Moving toward 3.5m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 3.5m (-70dBm SEEK) | Det: 11 | Runtime: 23s
ðŸ“¡ Stopping BLE seeking scanner...
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 3.2m (-69dBm SEEK) | Det: 14 | Runtime: 26s
ðŸ” SEEKING: Moving toward 3.2m signal
ðŸ“¡ Starting BLE seeking scanner...
ðŸ“¡ BLE seeking scanner active
ðŸ” SEEKING: Moving toward 3.2m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 3.2m (-69dBm SEEK) | Det: 14 | Runtime: 29s
ðŸ“¡ BlueCharm SEEKING #15:
   RSSI: -70dBm | Distance: ~3.5m | Avg: -69dBm
ðŸ” SEEKING: Moving toward 3.5m signal
ðŸ” SEEKING: Moving toward 3.5m signal
ðŸ§­ AUTONOMOUS | SEEKING | US: 200.0cm | BT: 7.1m (-76dBm SEEK) | Det: 17 | Runtime: 32s
ðŸ” SEEKING: Moving toward 5.0m signal
ðŸ“¡ BlueCharm SEEKING #20:
   RSSI: -82dBm | Distance: ~14.1m | Avg: -72dBm
ðŸ“¡ Stopping BLE seeking scanner...
^C
ðŸ›‘ Shutdown requested by user...
ðŸ›‘ Stopping Seeking Navigator V2...
ðŸ“Š Final runtime: 69.0 seconds
ðŸ“Š === Seeking Navigator V2 Statistics ===
   Runtime: 69 seconds
   Distance measurements: 381
   Obstacle avoidances: 1
   Exploration turns: 0
   Emergency stops: 0
   Stuck recoveries: 0
ðŸŽ¯ === BlueCharm Seeking Statistics ===
   Seeking activations: 1
   Approach activations: 0
   Target reaches: 0
   Search patterns: 1
ðŸ“¡ === Bluetooth Ranging Statistics ===
   Total detections: 20
   Callback events: 20
   Detection rate: 0.29/sec
   Callback rate: 0.29/sec
   Strongest RSSI: -65 dBm
   Signal timeouts: 0
   Average RSSI: -72.1 dBm
   Navigation rate: 5.5 measurements/sec
ðŸ‘‹ Seeking Navigator V2 shutdown complete
(venv) jay@RoboPi:~/rover_project $
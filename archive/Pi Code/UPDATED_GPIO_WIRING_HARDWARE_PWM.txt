===============================================================================
UPDATED GPIO WIRING GUIDE - HARDWARE PWM VERSION
===============================================================================

RASPBERRY PI TO DROK MOTOR CONTROLLER - HARDWARE PWM CONFIGURATION
=================================================================

CRITICAL CHANGES:
- ENA1 and ENA2 moved to hardware PWM pins for smooth speed control
- Added 5V logic power requirement
- Updated pin assignments for optimal performance

NEW WIRING CONNECTIONS:
======================

RASPBERRY PI GPIO → DROK MOTOR CONTROLLER:

Left Motor Control:
- GPIO 18 (Pin 12) → IN1 (Left Motor Forward Direction)
- GPIO 23 (Pin 16) → IN2 (Left Motor Reverse Direction)  
- GPIO 19 (Pin 35) → ENA1 (Left Motor Speed - HARDWARE PWM)

Right Motor Control:
- GPIO 20 (Pin 38) → IN3 (Right Motor Forward Direction)
- GPIO 21 (Pin 40) → IN4 (Right Motor Reverse Direction)
- GPIO 12 (Pin 32) → ENA2 (Right Motor Speed - HARDWARE PWM)

Power and Ground:
- 5V (Pin 2 or 4) → DROK 5V Logic Power Input
- GND (Pin 6,9,14,20,25,30,34,39) → DROK Signal Ground

RASPBERRY PI 4 GPIO PINOUT (HARDWARE PWM VERSION):
================================================

                    3V3  (1) (2)  5V ← DROK Logic Power
                GPIO2  (3) (4)  5V
                GPIO3  (5) (6)  GND ← DROK Signal Ground
                GPIO4  (7) (8)  GPIO14
                  GND  (9) (10) GPIO15
               GPIO17 (11) (12) GPIO18 ← IN1 (Left Forward)
               GPIO27 (13) (14) GND
               GPIO22 (15) (16) GPIO23 ← IN2 (Left Reverse)
                  3V3 (17) (18) GPIO24
               GPIO10 (19) (20) GND
                GPIO9 (21) (22) GPIO25
               GPIO11 (23) (24) GPIO8
                  GND (25) (26) GPIO7
                GPIO0 (27) (28) GPIO1
                GPIO5 (29) (30) GND
                GPIO6 (31) (32) GPIO12 ← ENA2 (Right Speed PWM)
               GPIO13 (33) (34) GND
               GPIO19 (35) (36) GPIO16
               GPIO26 (37) (38) GPIO20 ← IN3 (Right Forward)
                  GND (39) (40) GPIO21 ← IN4 (Right Reverse)

KEY HARDWARE PWM PINS USED:
- GPIO 19 (Pin 35) → ENA1 (Left Motor Speed)
- GPIO 12 (Pin 32) → ENA2 (Right Motor Speed)

WIRING CHANGES FROM PREVIOUS VERSION:
===================================
OLD → NEW:
- ENA1: GPIO 16 (Pin 36) → GPIO 19 (Pin 35)
- ENA2: GPIO 26 (Pin 37) → GPIO 12 (Pin 32)  
- IN2:  GPIO 19 (Pin 35) → GPIO 23 (Pin 16)
- Added: 5V Logic Power connection

MOTOR OPERATION:
==============
Direction Control (Digital):
- IN1=HIGH, IN2=LOW → Forward
- IN1=LOW, IN2=HIGH → Reverse
- IN1=LOW, IN2=LOW → Coast/Stop

Speed Control (Hardware PWM):
- ENA = 0% duty cycle → Motor stopped
- ENA = 50% duty cycle → Half speed
- ENA = 100% duty cycle → Full speed

HARDWARE PWM ADVANTAGES:
=======================
- Smoother speed control (no jitter)
- More precise timing
- Better motor performance
- Reduced CPU load
- Consistent frequency (1kHz)

TESTING SEQUENCE:
================
1. Wire according to new pin assignments
2. Run pwm_cycle_test.py
3. Observe smooth speed ramping 0% → 100% → 0%
4. Test both forward and reverse directions
5. Verify both motors operate independently

TROUBLESHOOTING:
===============
- Ensure 5V logic power is connected
- Verify signal ground connection
- Check hardware PWM pins are wired correctly
- Confirm motor controller has both 12V and 5V power
- Test individual direction pins with multimeter

===============================================================================
This configuration provides optimal motor control with hardware PWM!
===============================================================================
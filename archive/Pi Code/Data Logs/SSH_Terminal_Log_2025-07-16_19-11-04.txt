SSH Dashboard Terminal Log
Session Date: 2025-07-16 19:11:10
Connected to: 192.168.254.65:22
Username: jay
==================================================

Connected to Raspberry Pi
$ cd ~/rover_project && source venv/bin/activate && echo 'Rover environment activated' && pwd && which python
Rover environment activated
/home/jay/rover_project
/home/jay/rover_project/venv/bin/python
Uploading bluetooth_lidar_navigator_v7.py...
Successfully uploaded bluetooth_lidar_navigator_v7.py to /home/jay/rover_project/bluetooth_lidar_navigator_v7.py
$ cd ~/rover_project && source venv/bin/activate && echo 'Starting program...' && python3 -u /home/jay/rover_project/bluetooth_lidar_navigator_v7.py
Starting program...
âœ… Bluetooth (bleak) library available
âœ… LiDAR (rplidar) library available
================================================================================
ğŸ¤– BLUETOOTH LIDAR NAVIGATOR V7
================================================================================

ENHANCED FEATURES:
  âœ… All proven V6 Bluetooth navigation capabilities
  âœ… Integrated RPLidar A1 for 360Â° obstacle detection
  âœ… Multi-sensor fusion (ultrasonic + LiDAR)
  âœ… Enhanced obstacle avoidance with sector analysis
  âœ… Improved turn direction selection using LiDAR data
  âœ… Real-time path clearance assessment
  âœ… Fallback to ultrasonic if LiDAR fails
  âœ… Thread-safe LiDAR data processing
  âœ… Enhanced navigation decision making
  ğŸ” Automatic USB device detection and assignment
  ğŸ›¡ï¸ Intelligent port conflict resolution
  ğŸ”„ Robust fallback system for device connections

LIDAR ENHANCEMENTS:
  ğŸ”„ 360Â° obstacle detection vs single-direction ultrasonic
  ğŸ¯ Sector-based path analysis (8 directions)
  ğŸ§  Intelligent turn direction selection
  ğŸ“ Enhanced distance fusion for better accuracy
  ğŸš§ Real-time obstacle mapping
  âœ… Graceful degradation if LiDAR unavailable

DEVICE DETECTION:
  ğŸ” Automatic USB port scanning and identification
  ğŸ¤– Arduino detection via JSON protocol recognition
  ğŸ“¡ LiDAR detection via RPLidar protocol handshake
  ğŸ”„ Smart fallback to common port configurations
  ğŸ›¡ï¸ Port conflict prevention and resolution
  ğŸ“‹ Detailed device information reporting

NAVIGATION MODES:
  ğŸ” SEARCHING: Enhanced search with LiDAR-guided turns
  ğŸš¶ FORWARD_TRACKING: Movement with multi-sensor obstacle awareness
  ğŸ”„ TURN_TESTING: Enhanced turn selection using LiDAR data
  ğŸ§  SMART_AVOIDING: Sector-based obstacle avoidance
  ğŸ¯ APPROACHING: Sensor-fusion approach control
  ğŸ HOLDING: Enhanced position maintenance
  ğŸ›¡ï¸ SAFETY: Multi-sensor emergency override

SENSOR STATUS:
  âœ… LiDAR Ready
  âœ… Bluetooth Ready

ğŸ” USB Device Detector initialized
ğŸ”„ LiDAR Processor initialized
ğŸ“ Range: 100-8000mm
ğŸš§ Obstacle threshold: 800mm
âœ… Clear path threshold: 1200mm
ğŸš€ Bluetooth LiDAR Navigator V7 - Enhanced Object Detection
ğŸ“Š Navigation: Danger=30.0cm | Caution=60.0cm | Safe=100.0cm
ğŸ”„ LiDAR: Enabled | Danger=80.0cm | Caution=120.0cm
ğŸ“¡ Bluetooth: Enabled | Target: DD:34:02:09:CA:1E
ğŸš¶ Tracking: Target distance 0.5m Â±0.15m
ğŸ“ˆ Signal: 1.0dBm improvement | 2.0dBm degradation
ğŸ›¡ï¸ Safety: Ultrasonic + LiDAR fusion for enhanced obstacle detection
ğŸ” Starting device detection...
ğŸ” === USB Device Detection Started ===
ğŸ” Scanning for USB devices...
ğŸ“‹ Found 2 USB serial devices:
   1. /dev/ttyUSB1 - CP2102 USB to UART Bridge Controller - CP2102 USB to UART Bridge Controller
      VID:PID = 10C4:EA60
      Manufacturer: Silicon Labs
   2. /dev/ttyUSB0 - USB Serial
      VID:PID = 1A86:7523
      Manufacturer: None

ğŸ§ª Testing ports for device identification...

ğŸ“ Testing /dev/ttyUSB1...
ğŸ¤– Testing for Arduino on /dev/ttyUSB1...
âŒ No Arduino detected on /dev/ttyUSB1
ğŸ“¡ Testing for LiDAR on /dev/ttyUSB1...
âœ… LiDAR detected on /dev/ttyUSB1
   Model: 24
   Firmware: (1, 29)
   Hardware: 7

ğŸ“ Testing /dev/ttyUSB0...
ğŸ¤– Testing for Arduino on /dev/ttyUSB0...
âœ… Arduino detected on /dev/ttyUSB0 at 115200 baud
   Sample data: {'ch1': 0, 'ch2': 0, 'ch9': -992, 'valid': True, 'mode': 0, 'emergency': False, 'distance': None, 'pi_command_valid': False, 'gatekeeper_mode': 'FAILSAFE'}

ğŸ“Š Detection Results:
   Arduino candidates: 1
   LiDAR candidates: 1
âœ… Arduino assigned to: /dev/ttyUSB0 @ 115200 baud
âœ… LiDAR assigned to: /dev/ttyUSB1

ğŸ“‹ Final Device Assignment:
   Arduino: /dev/ttyUSB0
   LiDAR: /dev/ttyUSB1
ğŸ“ Using detected Arduino: /dev/ttyUSB0 @ 115200 baud
âœ… Arduino connected on /dev/ttyUSB0
ğŸ“ Using detected LiDAR: /dev/ttyUSB1
ğŸ”— Connecting to RPLidar A1 on /dev/ttyUSB1
ğŸ“‹ LiDAR Device info: {'model': 24, 'firmware': (1, 29), 'hardware': 7, 'serialnumber': 'EF83EDF9C7E29BCEA7E39EF27F504304'}
ğŸ’š LiDAR Health: ('Good', 0)
ğŸ”„ Starting LiDAR motor...
âœ… LiDAR connected and ready
ğŸ“¡ LiDAR scanning started
âœ… LiDAR navigation enhancement enabled
ğŸ“¡ Starting BlueCharm tracking thread...ğŸ“¡ BlueCharm tracking scanner started

ğŸ“¡ BlueCharm tracking scanner readyğŸš€ Enhanced Navigator V7 started with LiDAR + Ultrasonic + Bluetooth

ğŸ¯ Ready for enhanced object detection and navigation
âœ… Enhanced Navigator V7 ready with LiDAR + Ultrasonic + Bluetooth
ğŸ“¡ Switch to autonomous mode for enhanced navigation
ğŸ”„ LiDAR will provide 360Â° obstacle detection
ğŸ¯ Multi-sensor fusion ensures robust navigation
Press Ctrl+C to stop...
âš ï¸ Arduino communication timeout
âš ï¸ Arduino communication timeout
âš ï¸ Arduino communication timeout
âš ï¸ Arduino communication timeout
âš ï¸ Arduino communication timeout
âš ï¸ Arduino communication timeout
âš ï¸ Arduino communication timeout
ğŸ“¡ LiDAR scan #10: 128 points
ğŸ“¡ LiDAR scan #20: 129 points
ğŸ“¡ LiDAR scan #30: 131 points
ğŸ“¡ LiDAR scan #40: 131 points
ğŸ“¡ LiDAR scan #50: 124 points
ğŸ“¡ LiDAR scan #60: 132 points
ğŸ“¡ LiDAR scan #70: 125 points
ğŸ“¡ LiDAR scan #80: 141 points
ğŸ“¡ LiDAR scan #90: 126 points
ğŸ“¡ LiDAR scan #100: 131 points
ğŸ“¡ LiDAR scan #110: 127 points
ğŸ“¡ LiDAR scan #120: 133 points
ğŸ“¡ LiDAR scan #130: 130 points
ğŸ“¡ LiDAR scan #140: 129 points
ğŸ“¡ LiDAR scan #150: 130 points
ğŸ“¡ LiDAR scan #160: 133 points
ğŸ“¡ LiDAR scan #170: 131 points
ğŸ“¡ LiDAR scan #180: 127 points
ğŸ“¡ LiDAR scan #190: 132 points
ğŸ“¡ LiDAR scan #200: 132 points
ğŸ“¡ LiDAR scan #210: 122 points
ğŸ“¡ LiDAR scan #220: 122 points
ğŸ”„ ENHANCED SEARCH: Looking for signal...
ğŸ§­ AUTONOMOUS | SEARCHING | ULTRASONIC: 200.0cm | LiDAR: 55cm@253Â° | Clear: 5/8 | BT: No signal | Det: 0 | Runtime: 34s
ğŸ“¡ LiDAR scan #230: 111 points
ğŸ“¡ LiDAR scan #240: 108 points
ğŸ§­ AUTONOMOUS | SEARCHING | ULTRASONIC: 200.0cm | LiDAR: 63cm@318Â° | Clear: 6/8 | BT: No signal | Det: 0 | Runtime: 37s
ğŸ“¡ LiDAR scan #250: 101 points
ğŸ“¡ LiDAR scan #260: 111 points
ğŸ“¡ LiDAR scan #270: 115 points
ğŸ§­ AUTONOMOUS | SEARCHING | ULTRASONIC: 200.0cm | LiDAR: 42cm@273Â° | Clear: 6/8 | BT: No signal | Det: 0 | Runtime: 40s
ğŸ“¡ LiDAR scan #280: 122 points
ğŸ“¡ Starting BLE scanner...
ğŸ“¡ BLE scanner active
ğŸ“¡ LiDAR scan #290: 128 points
ğŸš¶ TRACKING MODE: BlueCharm at 5.0m - forward tracking activated
ğŸ“¡ SIGNAL DETECTED: Switching to forward_tracking mode (5.0m)
ğŸ§­ AUTONOMOUS | FORWARD_TRACKING | ULTRASONIC: 200.0cm | LiDAR: 61cm@220Â° | Clear: 5/8 | BT: 5.0m (-73dBm TRACK) | Det: 1 | Runtime: 43s
ğŸ TRACKING INITIALIZED: Starting at 5.0m
ğŸš¶ ENHANCED TRACKING: 5.0m signal stable (t=0.5s)
ğŸ“¡ LiDAR scan #300: 134 points
ğŸ“¡ LiDAR scan #310: 124 points
ğŸ§­ AUTONOMOUS | FORWARD_TRACKING | ULTRASONIC: 200.0cm | LiDAR: 67cm@261Â° | Clear: 5/8 | BT: 3.7m (-69dBm TRACKâ†—) | Det: 4 | Runtime: 46s
ğŸ“¡ BlueCharm TRACKINGâ†— #5:
   RSSI: -67dBm (raw: -63) | Distance: ~3.0m | Avg: -70dBm
ğŸ“¡ LiDAR scan #320: 127 points
ğŸ“¡ LiDAR scan #330: 111 points
ğŸš¶ ENHANCED TRACKING: 3.2m signal â†—improving (t=6.0s)
ğŸ§­ AUTONOMOUS | FORWARD_TRACKING | ULTRASONIC: 200.0cm | LiDAR: 78cm@253Â° | Clear: 6/8 | BT: 3.2m (-68dBm TRACKâ†—) | Det: 6 | Runtime: 49s
ğŸš¶ ENHANCED TRACKING: 2.5m signal â†—improving (t=6.5s)
ğŸ“¡ LiDAR scan #340: 86 points
ğŸ“¡ LiDAR scan #350: 86 points
ğŸ¯ SWITCHING TO APPROACH: 2.5m
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 106cm@223Â° | Clear: 7/8 | BT: 2.5m (-51dBm TRACKâ†—) | Det: 8 | Runtime: 52s
ğŸ“¡ LiDAR scan #360: 92 points
ğŸ“¡ BlueCharm TRACKINGâ†— #10:
   RSSI: -43dBm (raw: -32) | Distance: ~2.5m | Avg: -61dBm
ğŸ“¡ LiDAR scan #370: 93 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-43dBm TRACKâ†—) | Det: 10 | Runtime: 55s
ğŸ“¡ LiDAR scan #380: 87 points
ğŸ“¡ LiDAR scan #390: 93 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-39dBm TRACKâ†—) | Det: 13 | Runtime: 58s
ğŸ“¡ LiDAR scan #400: 87 points
ğŸ“¡ BlueCharm TRACKINGâ†— #15:
   RSSI: -35dBm (raw: -31) | Distance: ~2.5m | Avg: -42dBm
ğŸ“¡ LiDAR scan #410: 96 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-36dBm TRACKâ†—) | Det: 16 | Runtime: 61s
ğŸ“Š === Enhanced Navigator V7 Statistics ===
   Runtime: 61 seconds
   Distance measurements: 352
   Obstacle avoidances: 0
   Emergency stops: 0
   Stuck recoveries: 0
ğŸ¯ === Enhanced Navigation Statistics ===
   Smart turns: 0
   Tracking activations: 1
   Approach activations: 0
   Hold activations: 0
   Target reaches: 0
   Signal improvements: 1
   Course corrections: 0
   Turn tests: 0
   Long tracking phases: 0
ğŸ”„ === LiDAR Enhancement Statistics ===
   LiDAR scans processed: 57
   LiDAR obstacle detections: 0
   LiDAR enhanced turns: 1
   Sensor fallbacks: 0
   LiDAR scan rate: 0.94/sec
ğŸ“¡ === Bluetooth Ranging Statistics ===
   Total detections: 16
   Callback events: 16
   Detection rate: 0.26/sec
   Callback rate: 0.26/sec
   Strongest RSSI: -34.804213023070034 dBm
   Signal timeouts: 0
   Average RSSI: -40.2 dBm
   Average smoothed distance: 2.5m
   Navigation rate: 5.8 measurements/sec
ğŸ“¡ LiDAR scan #420: 90 points
ğŸ“¡ LiDAR scan #430: 86 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@223Â° | Clear: 7/8 | BT: 2.5m (-33dBm TRACKâ†—) | Det: 18 | Runtime: 64s
ğŸ“¡ LiDAR scan #440: 90 points
ğŸ“¡ BlueCharm TRACKINGâ†— #20:
   RSSI: -34dBm (raw: -32) | Distance: ~2.5m | Avg: -36dBm
ğŸ“¡ LiDAR scan #450: 88 points
ğŸ“¡ LiDAR scan #460: 93 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-34dBm TRACKâ†—) | Det: 20 | Runtime: 67s
ğŸ“¡ LiDAR scan #470: 96 points
ğŸ“¡ LiDAR scan #480: 95 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-36dBm TRACKâ†—) | Det: 22 | Runtime: 70s
ğŸ“¡ LiDAR scan #490: 87 points
ğŸ“¡ LiDAR scan #500: 85 points
ğŸ“¡ BlueCharm TRACKINGâ†— #25:
   RSSI: -33dBm (raw: -31) | Distance: ~2.5m | Avg: -34dBm
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-33dBm TRACKâ†—) | Det: 25 | Runtime: 73s
ğŸ“¡ LiDAR scan #510: 90 points
ğŸ“¡ LiDAR scan #520: 88 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@223Â° | Clear: 7/8 | BT: 2.5m (-33dBm TRACKâ†—) | Det: 28 | Runtime: 76s
ğŸ“¡ LiDAR scan #530: 91 points
ğŸ“¡ BlueCharm TRACKINGâ†— #30:
   RSSI: -32dBm (raw: -31) | Distance: ~2.5m | Avg: -34dBm
ğŸ“¡ LiDAR scan #540: 90 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-35dBm TRACKâ†—) | Det: 31 | Runtime: 79s
ğŸ“¡ LiDAR scan #550: 92 points
ğŸ“¡ LiDAR scan #560: 92 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@223Â° | Clear: 7/8 | BT: 2.5m (-33dBm TRACKâ†—) | Det: 34 | Runtime: 82s
ğŸ“¡ LiDAR scan #570: 89 points
ğŸ“¡ BlueCharm TRACKINGâ†— #35:
   RSSI: -32dBm (raw: -31) | Distance: ~2.5m | Avg: -33dBm
ğŸ“¡ LiDAR scan #580: 94 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-32dBm TRACKâ†—) | Det: 37 | Runtime: 85s
ğŸ“¡ LiDAR scan #590: 89 points
ğŸ“¡ LiDAR scan #600: 91 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 6/8 | BT: 2.5m (-35dBm TRACKâ†—) | Det: 38 | Runtime: 88s
ğŸ“¡ LiDAR scan #610: 89 points
ğŸ“¡ BlueCharm TRACKINGâ†˜ #40:
   RSSI: -35dBm (raw: -35) | Distance: ~2.5m | Avg: -34dBm
ğŸ“¡ LiDAR scan #620: 86 points
ğŸ“¡ LiDAR scan #630: 105 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 28cm@172Â° | Clear: 5/8 | BT: 2.5m (-33dBm TRACKâ†˜) | Det: 41 | Runtime: 91s
ğŸ“Š === Enhanced Navigator V7 Statistics ===
   Runtime: 91 seconds
   Distance measurements: 553
   Obstacle avoidances: 0
   Emergency stops: 0
   Stuck recoveries: 0
ğŸ¯ === Enhanced Navigation Statistics ===
   Smart turns: 0
   Tracking activations: 1
   Approach activations: 0
   Hold activations: 0
   Target reaches: 0
   Signal improvements: 1
   Course corrections: 0
   Turn tests: 0
   Long tracking phases: 0
ğŸ”„ === LiDAR Enhancement Statistics ===
   LiDAR scans processed: 117
   LiDAR obstacle detections: 0
   LiDAR enhanced turns: 1
   Sensor fallbacks: 0
   LiDAR scan rate: 1.29/sec
ğŸ“¡ === Bluetooth Ranging Statistics ===
   Total detections: 41
   Callback events: 41
   Detection rate: 0.45/sec
   Callback rate: 0.45/sec
   Strongest RSSI: -32.02960902736464 dBm
   Signal timeouts: 0
   Average RSSI: -33.7 dBm
   Average smoothed distance: 2.5m
   Navigation rate: 6.1 measurements/sec
ğŸ“¡ LiDAR scan #640: 87 points
ğŸ“¡ LiDAR scan #650: 94 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 2.5m (-45dBm TRACKâ†˜) | Det: 42 | Runtime: 94s
ğŸ“¡ LiDAR scan #660: 89 points
ğŸ“¡ LiDAR scan #670: 80 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@223Â° | Clear: 7/8 | BT: 2.5m (-56dBm TRACKâ†˜) | Det: 43 | Runtime: 97s
ğŸ“¡ LiDAR scan #680: 94 points
ğŸ“¡ BlueCharm TRACKINGâ†˜ #45:
   RSSI: -68dBm (raw: -81) | Distance: ~2.7m | Avg: -47dBm
ğŸ“¡ LiDAR scan #690: 94 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 3.8m (-73dBm TRACKâ†˜) | Det: 46 | Runtime: 100s
ğŸ“¡ LiDAR scan #700: 88 points
ğŸ“¡ LiDAR scan #710: 91 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 4.3m (-73dBm TRACKâ†˜) | Det: 48 | Runtime: 103s
ğŸ“¡ LiDAR scan #720: 90 points
ğŸ“¡ LiDAR scan #730: 90 points
ğŸ“¡ BlueCharm TRACKINGâ†˜ #50:
   RSSI: -72dBm (raw: -71) | Distance: ~4.5m | Avg: -69dBm
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@223Â° | Clear: 7/8 | BT: 4.5m (-72dBm TRACKâ†˜) | Det: 50 | Runtime: 106s
ğŸ“¡ LiDAR scan #740: 88 points
ğŸ“¡ LiDAR scan #750: 87 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 4.5m (-70dBm TRACKâ†˜) | Det: 53 | Runtime: 109s
ğŸ“¡ LiDAR scan #760: 87 points
ğŸ“¡ BlueCharm TRACKINGâ†— #55:
   RSSI: -62dBm (raw: -52) | Distance: ~4.5m | Avg: -72dBm
ğŸ“¡ LiDAR scan #770: 89 points
ğŸ§­ AUTONOMOUS | APPROACHING | ULTRASONIC: 200.0cm | LiDAR: 105cm@224Â° | Clear: 7/8 | BT: 4.5m (-62dBm TRACKâ†—) | Det: 55 | Runtime: 112s
ğŸ“¡ LiDAR scan #780: 90 points
ğŸ“¡ LiDAR scan #790: 91 points

Attempting to stop program...

^C (Interrupt signal sent)
^C
ğŸ›‘ Shutdown requested by user...
ğŸ›‘ Stopping Enhanced Navigator V7...
ğŸ”Œ LiDAR disconnected
SIGTERM sent to Python processes
No Python processes running

